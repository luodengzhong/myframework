<?xml version="1.0" encoding="UTF-8"?>
<easy-search-mapping>
    <query-scheme name="hrPosSelect" desc="组织机构岗位选择">
		<sql>
		 <![CDATA[ 
		 	select o.id,
			       o.name,
			       o.full_name,
			       o.full_id,
			       t.pos_tier,
			       t.pos_level,
			       t.pos_type,
			       t.system_type,
			       o.org_kind_id,
			       o.org_id,
			       o.org_name,
			       o.center_id,
			       o.center_name,
			       o.dept_id,
			       o.dept_name,
			       o.full_name as cascadeFiled
			  from sa_oporg o, hr_pos_tier t
			 where o.id = t.pos_id(+)
			   and o.status = 1
			   and o.org_kind_id = 'pos'
			 order by o.sequence asc
		 ]]>
		</sql>
		<field name="id" code="id" type='hidden'/>
		<field name="fullId" code="fullId" type='hidden'/>
		<field name="orgKindId" code="orgKindId" type='hidden'/>
		<field name="posTier" code="posTier" type='hidden'/>
		<field name="posLevel" code="posLevel" type='hidden'/>
		<field name="posType" code="posType" type='hidden'/>
		<field name="systemType" code="systemType" type='hidden'/>
		<field name="orgId" code="orgId" type='hidden'/>
		<field name="orgName" code="orgName" type='hidden'/>
		<field name="centerId" code="centerId" type='hidden'/>
		<field name="centerName" code="centerName" type='hidden'/>
		<field name="deptId" code="deptId" type='hidden'/>
		<field name="deptName" code="deptName" type='hidden'/>
		<field name="路径" code="fullName"  width="200"/>
		<field name="名称" code="name"  width="100"/>
		<field name="层级" code="posTierTextView"  width="60" type="dictionary"/>
		<field name="行政级别" code="posLevelTextView"  width="60" type="dictionary"/>
		<field name="管理岗位类别" code="posTypeTextView"  width="60" type="dictionary"/>
		<field name="体系分类" code="systemTypeTextView"  width="80" type="dictionary"/>
    </query-scheme>
    
    <query-scheme name="businessRegistration" desc="工商登记基本信息">
		<sql>
		 SELECT t.id, t.company_name, t.company_code, o.name
		  FROM hr_business_registration t, sa_oporg o
		 where t.status = 1
		   and t.organ_id = o.id
		 order by t.sequence asc
		</sql>
		<field name="id" code="id" type='hidden'/>
		<field name="公司全称" code="companyName"  width="200"/>
		<field name="公司简码" code="companyCode"  width="100"/>
		<field name="所属机构" code="name"  width="150"/>
    </query-scheme>
    
    <query-scheme name="postsRankSequence" desc="人员职级序列">
		<sql>
     select t.posts_rank_sequence_id,
        t.code,
        t.name,
        t.staffing_posts_rank,
        t.weight
     from hr_posts_rank_sequence t
     where t.status = 1
     order by t.sequence asc
		</sql>
		<field name="postsRankSequenceId" code="postsRankSequenceId" type='hidden'/>
		<field name="code" code="code" type='hidden'/>
		<field name="staffingPostsRank" code="staffingPostsRank" type='hidden'/>
		<field name="weight" code="weight" type='hidden'/>
		<field name="职级序列" code="name"  width="80"/>
		<field name="职级" code="staffingPostsRankTextView"  width="60" type="dictionary"/>
    </query-scheme>
    <query-scheme name="postsRankSequenceByCurrent" desc="人员职级序列">
		<sql>
			  select p.posts_rank_sequence_id,
                       p.code,
                       p.name,
                       p.staffing_posts_rank,
                       p.weight,
                       p.sequence
                       from hr_posts_rank_sequence p
                 where pkg_hr_pay_util.f_check_posts_rank(p.organ_id, :currentFullId) = 1
		</sql>
		<orderby>sequence asc</orderby>
		<field name="postsRankSequenceId" code="postsRankSequenceId" type='hidden'/>
		<field name="code" code="code" type='hidden'/>
		<field name="staffingPostsRank" code="staffingPostsRank" type='hidden'/>
		<field name="weight" code="weight" type='hidden'/>
		<field name="职级序列" code="name"  width="80"/>
		<field name="职级" code="staffingPostsRankTextView"  width="60" type="dictionary"/>
    </query-scheme>
    <query-scheme name="postsRankSequenceByFullId" desc="人员职级序列">
		<sql>
			select p.posts_rank_sequence_id,
                       p.code,
                       p.name,
                       p.staffing_posts_rank,
                       p.weight,
                       p.sequence
                  from hr_posts_rank_sequence p
                 where pkg_hr_pay_util.f_check_posts_rank(p.organ_id, :organId) = 1

		</sql>
		<orderby>sequence asc</orderby>
		<field name="postsRankSequenceId" code="postsRankSequenceId" type='hidden'/>
		<field name="code" code="code" type='hidden'/>
		<field name="staffingPostsRank" code="staffingPostsRank" type='hidden'/>
		<field name="weight" code="weight" type='hidden'/>
		<field name="职级序列" code="name"  width="80"/>
		<field name="职级" code="staffingPostsRankTextView"  width="60" type="dictionary"/>
    </query-scheme>
    
    <query-scheme name="businessRegistrationByOrg" desc="工商登记基本信息">
		<sql>
			select t.id,
			       t.company_name,
			       t.license_number,
			       t.organization_code,
			       t.registered_fund,
			       t.registration_place,
			       t.shareholder,
			       t.legal_person,
			       t.chairman,
			       t.director,
			       t.supervisor,
			       t.general_manager,
			       t.alloted_time,
			       t.company_kind,
			       o.full_id,
			       o.full_sequence
			  FROM hr_business_registration t, sa_oporg o
			 where t.status = 1
			   and t.organ_id = o.id
			   and ((exists (select 0
			                   from sa_oporg u
			                  where u.id =  :orgId
			                    and u.org_id = t.organ_id
			                    and u.full_id like o.full_id || '%')) or
			       (exists (select 0
			                   from hr_business_registration_manag m, sa_oporg c
			                  where m.business_registration_id = t.id
			                    and c.id =  :orgId
			                    and c.full_id like m.full_id || '%')) or
			       t.company_code = upper('zzgs'))
			 order by t.sequence asc
		</sql>
		<field name="id" code="id" type='hidden'/>
        <field name="organizationCode" code="organizationCode" type='hidden'/>
        <field name="registeredFund" code="registeredFund" type='hidden'/>
        <field name="registrationPlace" code="registrationPlace" type='hidden'/>
        <field name="shareholder" code="shareholder" type='hidden'/>
        <field name="legalPerson" code="legalPerson" type='hidden'/>
        <field name="chairman" code="chairman" type='hidden'/>
        <field name="director" code="director" type='hidden'/>
        <field name="supervisor" code="supervisor" type='hidden'/>
        <field name="generalManager" code="generalManager" type='hidden'/>
        <field name="allotedTime" code="allotedTime" type='hidden'/>
         <field name="companyKind" code="companyKind" type='hidden'/>
        <field name="名称" code="companyName" width="200"/>
        <field name="营业执照号码" code="licenseNumber" width="150"/>
        <field name="公司类型" code="companyKindTextView" width="100" type="dictionary"/>
    </query-scheme>
    
    <query-scheme name="archivesFieldChoose" desc="主集字段选择">
		<sql>
		  SELECT t.field_id, t.name, t.display
			  FROM hr_archives_field_define t
			 where t.status = 1
			 order by t.sequence asc
		</sql>
		<field name="fieldId" code="fieldId" type='hidden'/>
		<field name="字段编码" code="name"  width="150"/>
		<field name="显示名称" code="display"  width="150"/>
    </query-scheme>
    
    <query-scheme name="changeOrganChoose" desc="编制变更单位选择">
		<sql>
		select a.dpt_id,
		b.full_id,
        b.name,
        a.num,
        b.is_center,
        PKG_HR.f_get_organ_number(b.full_id) as exist_num
        from hr_organ_number a, sa_oporg b
        where a.dpt_id = b.id 
        and  a.organ_id=:organId
		</sql>
		<field name="单位ID" code="dptId"  width="80" type="hidden"/>
		<field name="单位名称" code="name"  width="150"/>
		<field name="编制人数" code="num"  width="60"/>
		<field name="已占编制人数" code="existNum"  width="60"/>
    </query-scheme>
    
   <query-scheme name="recruitPosChoose" desc="应聘岗位选择">
		<sql>
		select 
       a.name,
       a.rec_pos_id,
       a.job_pos_id,
       a.organ_id,
       a.organ_name,
       a.dept_id,
       a.dept_name,
       a.status,
       a.is_headhunter,
       a.job_apply_id,
       b.full_id,
       a.is_inter_recommend
  from hr_recruit_position a, sa_oporg b
 where a.status = 1
   and a.rec_pos_id = b.id
 order by a.job_pos_id desc
		</sql>
		<field name="招聘申请ID" code="jobApplyId"  width="80" type="hidden"/>
		<field name="岗位ID" code="jobPosId"  width="80" type="hidden"/>
		<field name="岗位名称" code="name"  width="150"/>
		<field name="单位ID" code="organId"  width="80" type="hidden"/>
		<field name="部门名称" code="deptName"  width="200"/>
		<field name="单位名称" code="organName"  width="200"/>
		<field name="部门ID" code="deptId"  width="80" type="hidden"/>
    </query-scheme>
    
       <query-scheme name="recruitPosChooseByHeadHunter" desc="指定猎头应聘岗位选择">
		<sql>
	select a.name,
       a.job_pos_id,
       a.organ_id,
       a.organ_name,
       a.dept_id,
       a.dept_name,
       a.status,
       a.is_headhunter,
       a.job_apply_id,
       a.is_inter_recommend,
       b.hunter_id
  from hr_recruit_position a,hr_headhunter_pos_relation b
 where a.status = 1
   and a.is_headhunter=1
   and a.job_pos_id=b.job_pos_id
		</sql>
		<field name="jobApplyId" code="jobApplyId"  width="80" type="hidden"/>
		<field name="jobPosId" code="jobPosId"  width="80" type="hidden"/>
		<field name="岗位名称" code="name"  width="150"/>
		<field name="单位ID" code="organId"  width="80" type="hidden"/>
		<field name="部门名称" code="deptName"  width="200"/>
		<field name="单位名称" code="organName"  width="200"/>
		<field name="部门ID" code="deptId"  width="80" type="hidden"/>
    </query-scheme>

    <query-scheme name="chooseOperationPeriod" desc="业务期间选择">
		<sql>
			select t.period_id,
			       t.year,
			       t.period_name,
			       t.period_begin_date,
			       t.period_end_date,
			       t.year_period_name,
			       t.status
			  from (SELECT t.period_id,
			               t.year,
			               t.period_name,
			               t.period_begin_date,
			               t.period_end_date,
			               t.period_name || '(' ||
			               to_char(t.period_begin_date, 'yyyy-mm-dd') || '至' ||
			               to_char(t.period_end_date, 'yyyy-mm-dd') || ')' as year_period_name,
			               t.status,
			               rank() over(PARTITION BY t.period_id order by t.full_sequence desc) as num
			          FROM v_hr_operation_period t
			         where :currentFullId like t.full_id || '%') t
			 where t.num = 1
		</sql>
		<orderby>period_begin_date asc</orderby>
		<field name="periodId" code="periodId" type="hidden"/>
		<field name="yearPeriodName" code="yearPeriodName" type="hidden"/>
		<field name="status" code="status" type="hidden"/>
		<field name="业务年" code="year"  width="60"/>
		<field name="名称" code="periodName"  width="60"/>
		<field name="开始时间" code="periodBeginDate"  width="80" type="date"/>
		<field name="结束时间" code="periodEndDate"  width="80" type="date"/>
    </query-scheme>
    <query-scheme  name="resumePersonSelect" desc="简历库中员工选择">
    <sql>
     select  a.write_id,
       a.staff_name,
       a.apply_pos_id,
       a.apply_pos_name,
       a.height,
       a.id_card_no,
       a.sex,
       a.age,
       a.is_backflow,
       a.university,
       a.specialty,
       a.education,
       a.phone_number,
       a.employed_date,
       m.dept_name,
       a.expecte_salary,
       r.pos_level,
       r.staff_kind,
       r.staffing_level,
       b.employ_company_id,
       b.employ_company,
       b.employ_center_id,
       b.employ_center,
       b.employ_dept_id,
       b.employ_dept,
       r.full_id
  from hr_person_register a,
       (select distinct a.write_id,
                               a.employ_company_id,
                               a.employ_company,
                               a.employ_center_id,
                               a.employ_center,
                               a.employ_dept_id,
                               a.employ_dept
                 from hr_interview_apply a
                order by a.write_id) b,
              hr_recruit_position m,
              hr_recruit_apply r
        where a.write_id = b.write_id
          and a.apply_pos_id = m.job_pos_id
          and a.job_apply_id = r.job_apply_id(+)
          and a.recruit_result not in (-1, 0,4,6)
    </sql>
       <field name="writeId" code="writeId" type="hidden"/>
		<field name="applyPosId" code="applyPosId" type="hidden"/>
		<field name="employCompanyId" code="employCompanyId" type="hidden"/>
		<field name="employCompany" code="employCompany" type="hidden"/>
		<field name="employCenterId" code="employCenterId" type="hidden"/>
		<field name="employCenter" code="employCenter" type="hidden"/>
     	<field name="employDeptId" code="employDeptId" type="hidden"/>
     	<field name="employPosId" code="employPosId" type="hidden"/>
     	
     	<field name="employDept" code="employDept" type="hidden"/>
		<field name="posLevel" code="posLevel" type="hidden"/>
		<field name="staffKind" code="staffKind" type="hidden"/>
	   <field name="staffingLevel" code="staffingLevel" type="hidden"/>
		<field name="height" code="height" type="hidden"/>
     	<field name="sex" code="sex" type="hidden"/>
     	
     	<field name="age" code="age" type="hidden"/>
		<field name="university" code="university" type="hidden"/>
		<field name="specialty" code="specialty" type="hidden"/>
     	<field name="education" code="education" type="hidden"/>
     	<field name="idCardNo" code="idCardNo" type="hidden"/>
     	
     	<field name="phoneNumber" code="phoneNumber" type="hidden"/>
		<field name="employedDate" code="employedDate" type="hidden"/>
		<field name="isBackflow" code="isBackflow" type="hidden"/>
		<field name="employName" code="employName" type="hidden"/>
		
		
		<field name="姓名" code="staffName"  width="70"/>
		<field name="应聘职位" code="applyPosName"  width="80"/>
		<field name="应聘部门" code="deptName"  width="110"/>
    </query-scheme>
    <query-scheme  name="backGroundSelect"  desc="背景调查员工选择">
    <sql>
        select a.write_id,
         a.staff_name,
         a.apply_pos_id,
         a.apply_pos_name,
         a.apply_dept_name,
         a.apply_dept_id,
         a.id_card_no,
         a.university,
         a.specialty,
         a.education,
         a.phone_number,
         a.employed_date,
         m.dept_name,
         r.staff_kind,
         r.staffing_level,
         m.organ_id,
         g.full_id
    from hr_person_register a,
         hr_recruit_position m,
         (select *
            from hr_recruit_apply t
           where t.staffing_level not in (4, 5, 6)) r,
         sa_oporg g
   where a.apply_pos_id = m.job_pos_id
     and a.job_apply_id = r.job_apply_id(+)
     and m.organ_id = g.id
     and not exists (select 0
            from hr_background_survey t
           where t.status != 5
             and t.write_id = a.write_id)

    </sql>
       <field name="writeId" code="writeId" type="hidden"/>
		<field name="applyPosId" code="applyPosId" type="hidden"/>
		<field name="employCompanyId" code="employCompanyId" type="hidden"/>
		<field name="employCompany" code="employCompany" type="hidden"/>
		<field name="employCenterId" code="employCenterId" type="hidden"/>
		<field name="employCenter" code="employCenter" type="hidden"/>
     	<field name="employDeptId" code="employDeptId" type="hidden"/>
     	<field name="employPosId" code="employPosId" type="hidden"/>
     	<field name="university" code="university" type="hidden"/>
		<field name="specialty" code="specialty" type="hidden"/>
     	<field name="education" code="education" type="hidden"/>
     	<field name="idCardNo" code="idCardNo" type="hidden"/>
     	<field name="employDept" code="employDept" type="hidden"/>
     	<field name="姓名" code="staffName"  width="70"/>
		<field name="应聘职位" code="applyPosName"  width="80"/>
		<field name="应聘部门" code="deptName"  width="110"/>
    </query-scheme>
    
    <query-scheme name="queryAllArchiveSelect" desc="员工选择" folderKindId="org">
		<sql>
			SELECT a.archives_id,
			       a.staff_no,
			       a.staff_name,
			       a.ogn_id,
			       a.centre_id,
			       a.dpt_id,
			       a.pos_id,
			       a.ogn_name,
			       a.centre_name,
			       a.dpt_name,
			       a.pos_name,
			       a.person_id,
			       a.full_id
			  FROM hr_archives a
			 where 1=1
			 order by a.sequence,a.staff_no asc
		</sql>
		<field name="archivesId" code="archivesId" type="hidden"/>
		<field name="ognId" code="ognId" type="hidden"/>
		<field name="centreId" code="centreId" type="hidden"/>
		<field name="dptId" code="dptId" type="hidden"/>
		<field name="posId" code="posId" type="hidden"/>
		<field name="personId" code="personId" type="hidden"/>
		<field name="fullId" code="fullId" type="hidden"/>
		<field name="姓名" code="staffName"  width="60"/>
		<field name="单位" code="ognName"  width="150"/>
		<field name="中心" code="centreName"  width="120"/>
		<field name="部门" code="dptName"  width="140"/>
		<field name="岗位" code="posName"  width="100" type="hidden"/>
    </query-scheme >
    
    <query-scheme name="personArchiveSelect" desc="员工选择" folderKindId="org">
		<sql>
			SELECT a.archives_id,
			       a.staff_no,
			       a.staff_name,
			       a.staffing_level,
                   a.state,
			       a.ogn_id,
			       a.employed_date,
			       a.centre_id,
			       a.dpt_id,
			       a.pos_id,
			       a.ogn_name,
			       a.centre_name,
			       a.dpt_name,
			       a.pos_name,
			       a.person_id,
			       a.pos_tier,
			       a.pos_level,
			       a.wage_kind,
			       a.operation_level,
			       a.full_id
			  FROM hr_archives a
			 where a.state in (0, 1)
			 order by a.sequence,a.staff_no asc
		</sql>
		<field name="archivesId" code="archivesId" type="hidden"/>
		<field name="ognId" code="ognId" type="hidden"/>
		<field name="centreId" code="centreId" type="hidden"/>
		<field name="staffingLevel" code="staffingLevel" type="hidden"/>
		<field name="state" code="state" type="hidden"/>
		<field name="dptId" code="dptId" type="hidden"/>
		<field name="posId" code="posId" type="hidden"/>
		<field name="fullId" code="fullId" type="hidden"/>
		<field name="personId" code="personId" type="hidden"/>
     	<field name="employedDate" code="employedDate" type="hidden"/>
		<field name="pos_tier" code="posTier" type="hidden"/>
		<field name="pos_level" code="posLevel" type="hidden"/>
		<field name="wage_kind" code="wageKind" type="hidden"/>
		<field name="operation_level" code="operationLevel" type="hidden"/>
		<field name="姓名" code="staffName"  width="60"/>
		<field name="单位" code="ognName"  width="150"/>
		<field name="所属一级中心" code="centreName"  width="120"/>
		<field name="部门" code="dptName"  width="140"/>
		<field name="岗位" code="posName"  width="100" type="hidden"/>
    </query-scheme >
 
      <query-scheme  name="entryCheckArchivesSelect" desc="办理入职手续员工选择">
      <sql>
       select a.ogn_id,
        a.ogn_name,
        a.centre_id,
        a.centre_name,
        a.dpt_id,
        a.dpt_name,
        a.pos_id,
        a.full_id,
        a.pos_name,
        a.archives_id,
        a.staff_name,
        a.staff_kind,
        a.staffing_level,
       pkg_hr.f_get_Posts_Rank_Sequence(a.archives_id)  as staffing_posts_rank_sequence 
        from hr_archives a
        where a.state = 0
        and not  exists (select 0
           from hr_entry_check t
          where t.archives_id = a.archives_id
            and t.status in (1, 2))
         order by a.sequence asc
      </sql>
      <field name="archivesId" code="archivesId" type="hidden"/>
		<field name="ognId" code="ognId" type="hidden"/>
		<field name="centreId" code="centreId" type="hidden"/>
		<field name="dptId" code="dptId" type="hidden"/>
		<field name="posId" code="posId" type="hidden"/>
		<field name="fullId" code="fullId" type="hidden"/>
		<field name="staffKind" code="staffKind" type="hidden"/>
		<field name="staffingLevel" code="staffingLevel" type="hidden"/>
	    <field name="staffingPostsRankSequence" code="staffingPostsRankSequence" type="hidden"/>

		<field name="dptName" code="dptName" type="hidden"/>
		<field name="posName" code="posName" type="hidden"/>
		
		<field name="姓名" code="staffName"  width="80"/>
		<field name="单位" code="ognName"  width="120"/>
		<field name="所属一级中心" code="centreName"  width="120"/>
      </query-scheme>
  
    <query-scheme  name="headHunterSelect" desc="猎头选择">
      <sql>
     select a.hunter_id,
       a.name,
       a.code,
       a.palce,
       a.contact_person,
       a.contact_telephone,
       a.sequence
  from hr_headhunter a
 where a.cooperate_status = 10
 order by a.sequence
     </sql>
     <field name="hunterId" code="hunterId" type="hidden"/>
     <field name="排序号" code="sequence"  width="40"/>
     <field name="猎头名称" code="name"  width="100"/>
	 <field name="猎头验证码" code="code"  width="100"/>
	<field name="总部所在地" code="palce"  width="100"/>
	<field name="联系人" code="contactPerson"  width="100"/>
	<field name="联系电话" code="contactTelephone"  width="100"/>
		 
    </query-scheme>
    <query-scheme  name="performAssessTypeSelect" desc="绩效考核类别选择">
        <sql>
       select a.type_id, 
              a.code, 
              a.name,
              a.pa_type, 
              a.sequence
        from hr_perform_assess_type a
          order by a.sequence asc
     </sql>
     <field name="typeId" code="typeId" type="hidden"/>
     <field name="paType" code="paType" type="hidden"/>
     <field name="名称" code="name"  width="100"/>
	 <field name="编码" code="code"  width="100"/>
    </query-scheme>
   <query-scheme  name="performAssessTempletSelect" desc="绩效考核模板选择">
        <sql>
       select t.templet_id, 
              t.pa_type, 
              t.templet_name, 
              t.templet_code,
              t.full_id
      from hr_perform_assess_templet t
      where t.status=1
        and (t.full_id like :fullId || '%' or :fullId like t.full_id || '%')
        and t.pa_type=:paType
     </sql>
     <field name="templetId" code="templetId" type="hidden"/>
     <field name="模板名称" code="templetName"  width="200"/>
	 <field name="模板编码" code="templetCode"  width="100"/>
    </query-scheme>
    
    <query-scheme  name="performAssessIndexSelect" desc="绩效考核指标选择"  folderKindId="19" folderIdName="parent_id">
     <sql>
     select a.index_id, 
	       a.sequence,
	       a.desption, 
	       a.main_content,
	       a.part_content,
	       a.parent_id
	  from hr_perform_assess_index a
	  order  by  a.sequence
     </sql>
      <field name="indexId" code="indexId" type="hidden"/>
      <field name="序号" code="sequence"  width="100"/>
      <field name="主项目" code="mainContent"  width="150"/>
	 <field name="指标名称" code="partContent"  width="150"/>
	 <field name="指标要求" code="desption"  width="400"/>
	 
    </query-scheme>

    <query-scheme name="batchStaffChangeArchiveSelect" desc="异动批量员工选择" folderKindId="org">
		<sql>
			select a.archives_id,
			       a.person_id,
			       a.staff_no,
			       a.staff_name,
			       a.ogn_id,
			       a.centre_id,
			       a.dpt_id,
			       a.pos_id,
			       a.ogn_name,
			       a.centre_name,
			       a.dpt_name,
			       a.pos_name,
			       a.pos_desc,
			       a.pos_level,
			       a.full_id,
			       a.job_title,
			       a.pos_tier,
			       a.wage_company,
			       b.company_name,
			       a.wage_org_id,
			       a.staffing_posts_rank,
                  pkg_hr.f_get_Posts_Rank_Sequence(a.archives_id) as FROM_POSTS_RANK_SEQUENCE,
                  pkg_hr.f_get_responsibilitiy_names(a.archives_id) as FROM_RESPONSIBILITIY_NAME,
			       a.wage_org_name
			  from hr_archives a,hr_business_registration b
			 where a.state = 1 and a.wage_company=b.id(+) 
			 order by a.sequence asc
		</sql>
		<field name="archivesId" code="archivesId" type="hidden"/>
		<field name="ognId" code="ognId" type="hidden"/>
		<field name="centreId" code="centreId" type="hidden"/>
		<field name="dptId" code="dptId" type="hidden"/>
		<field name="posId" code="posId" type="hidden"/>
		<field name="fullId" code="fullId" type="hidden"/>
		<field name="staffingPostsRank" code="staffingPostsRank" type="hidden"/>
		<field name="fromResponsibilitiyName" code="fromResponsibilitiyName" type="hidden"/>	
		<field name="fromPostsRankSequence" code="fromPostsRankSequence" type="hidden"/>
		<field name="wageCompany" code="wageCompany" type="hidden"/>
		<field name="posLevel" code="posLevel" type='hidden'/>
		<field name="wageOrgId" code="wageOrgId" type="hidden"/>
		<field name="wageOrgName" code="wageOrgName" type="hidden"/>
		<field name="姓名" code="staffName"  width="80"/>
		<field name="单位" code="ognName"  width="180"/>
		<field name="中心" code="centreName"  width="140"/>
		<field name="部门" code="dptName"  width="100" type="hidden"/>
		<field name="岗位" code="posName"  width="80" type="hidden"/>
		<field name="职级" code="jobTitle"  width="80" type="hidden"/>
		<field name="职位描述" code="posDesc"  width="80" type="hidden"/>
		<field name="行政级别" code="posLevelTextView"  width="80" type="hidden"/>
		<field name="层级" code="posTier"  width="80" type="hidden"/>
		<field name="工资所属单位" code="companyName"  width="80" type="hidden"/>
    </query-scheme>

    <query-scheme name="payChangeChoosePerson" desc="薪酬调整员工选择月薪需要转年薪" folderKindId="org">
		<sql>
		   SELECT a.archives_id,
			       a.staff_no,
			       a.staff_name,
			       a.ogn_id,
			       a.centre_id,
			       a.dpt_id,
			       a.pos_id,
			       a.ogn_name,
			       a.centre_name,
			       a.dpt_name,
			       a.pos_name,
			       a.full_id,
			       a.wage_kind,
			       a.sequence,
			       pkg_hr_pay_util.f_get_wage_standard(a.wage_kind,
			                                           a.wage_month,
			                                           a.wage_standard) as wage_standard,
			       a.wage_month,
			       a.performance_related_pay,
			       a.quarterly_performance,
			       a.special_quarterly_performance,
			       a.special_wage_standard,
			       d.execution_time,
			       pkg_hr_pay.f_get_pay_change_money(d.detail_id) as change_wage,
			       pkg_hr_pay.f_get_pay_change_count(a.archives_id,
			                                         to_char(sysdate, 'yyyy')) as change_count,
			       pkg_hr_performance.f_get_latest_performance_rank(a.archives_id) as performance_level
			  FROM hr_archives a,
			       (select execution_time, detail_id, archives_id
			          from (select d.execution_time,
			                       d.detail_id,
			                       d.archives_id,
			                       rank() over(PARTITION BY d.archives_id order by d.detail_id desc) as num
			                  FROM v_hr_pay_changer_detail d
			                 where nvl(d.wage_change_kind, 10) != 2)
			         where num = 1) d
			 where a.state in (0, 1)
			   and a.archives_id = d.archives_id(+)
		</sql>
		<field name="archivesId" code="archivesId" type="hidden"/>
		<field name="ognId" code="ognId" type="hidden"/>
		<field name="centreId" code="centreId" type="hidden"/>
		<field name="dptId" code="dptId" type="hidden"/>
		<field name="posId" code="posId" type="hidden"/>
		<field name="fullId" code="fullId" type="hidden"/>
		<field name="performanceLevel" code="performanceLevel" type="hidden"/>
		<field name="wageKind" code="wageKind" type="hidden"/>
		<field name="specialQuarterlyPerformance" code="specialQuarterlyPerformance" type="hidden"/>
		<field name="姓名" code="staffName"  width="80"/>
		<field name="单位" code="ognName"  width="120"/>
		<field name="所属一级中心" code="centreName"  width="120"/>
		<field name="部门" code="dptName"  width="100"/>
		<field name="岗位" code="posName"  width="80" type="hidden"/>
		<field name="工资类别" code="wageKindTextView"  width="60" type="dictionary"/>
		<field name="现年薪酬标准" code="wageStandard"  width="80" type="money"/>
		<field name="现月标准总额" code="wageMonth"  width="80" type="money"/>
		<field name="现年终绩效标准" code="performanceRelatedPay"  width="80" type="money"/>
		<field name="现季度绩效标准" code="quarterlyPerformance"  width="80" type="money"/>
		<field name="薪酬调整时间" code="executionTime"  width="80" type="date"/>
		<field name="薪酬调整金额" code="changeWage"  width="80" type="money"/>
		<field name="年度调薪次数" code="changeCount"  width="80"/>
		<field name="最近绩效等级" code="performanceLevelTextView"  width="60" type="dictionary"/>
		<orderby>sequence asc</orderby>
    </query-scheme>
    
     <query-scheme name="resignationChoosePerson" desc="职员选择">
		<sql>
		SELECT a.archives_id,
			       a.person_id,
			       a.full_id,
			       a.staff_name,
			       a.staff_no,
			       a.ogn_id,
			       a.centre_id,
			       a.dpt_id,
			       a.pos_id,
			       a.ogn_name,
			       a.centre_name,
			       a.dpt_name,
			       a.pos_name,
			       a.birthdate,
			       a.employed_date,
			       a.sex,
			       a.staffing_posts_rank,
			       pkg_hr.f_get_Posts_Rank_Sequence(a.archives_id) as posts_Rank_Sequence,
			       a.age,
			       a.education,
			       a.wage_company,
			       a.pos_desc,
			       a.pos_level,
			       a.pos_level as pos_level_temp,
			       a.staff_kind,
			       a.staffing_level,
			       a.residence,
			       a.f04 as campus,
			       a.f03 as specialty,
			       a.job_title_name,
			       b.company_name,
			       a.wage_org_id,
			       a.wage_org_name
			  FROM hr_archives a, hr_business_registration b
			 where a.state in(0,1) 
			   and a.wage_company = b.id(+)
			 order by a.sequence asc
		</sql>
		<field name="archivesId" code="archivesId" type="hidden"/>
		<field name="personId" code="personId" type="hidden"/>
		<field name="staffKind" code="staffKind" type="hidden"/>
		<field name="staffingLevel" code="staffingLevel" type="hidden"/>
		<field name="staffingPostsRank" code="staffingPostsRank" type="hidden"/>
		<field name="postsRankSequence" code="postsRankSequence" type="hidden"/>
		<field name="fullId" code="fullId" type="hidden"/>
		<field name="ognId" code="ognId" type="hidden"/>
		<field name="centreId" code="centreId" type="hidden"/>
		<field name="dptId" code="dptId" type="hidden"/>
		<field name="posId" code="posId" type="hidden"/>
		<field name="sex" code="sex" type="hidden"/>
		<field name="posLevel" code="posLevel" type='hidden'/>
		<field name="campus"  code="campus" type='hidden'/>
		<field name="jobTitleName" code="jobTitleName" type='hidden'/>
		<field name="posLevelTemp" code="posLevelTemp" type='hidden'/>
		<field name="薪资结算单位标识" code="wageCompany" type="hidden"/>
		<field name="wageOrgId" code="wageOrgId" type="hidden"/>
		<field name="wageOrgName" code="wageOrgName" type="hidden"/>
		<field name="姓名" code="staffName"  width="80"/>
		<field name="单位" code="ognName"  width="180"/>
		<field name="中心" code="centreName"  width="140"/>
		<field name="部门" code="dptName"  width="100" type='hidden'/>
		<field name="岗位" code="posName"  width="80" type='hidden'/>
		<field name="职位描述" code="posDesc"  width="80" type='hidden'/>
		<field name="行政级别" code="posLevelTextView"  width="80" type="hidden"/>
		<field name="入职日期" code="employedDate"  width="80" type="hidden"/>
		<field name="性别" code="sexTextView"  width="80" type="hidden" />
		<field name="最高学历" code="education"  width="80" type='hidden'/>
		<field name="出生日期" code="birthdate"  width="80" type="hidden"/>
		<field name="薪资单位" code="companyName"  width="80" type='hidden'/>
		<field name="年龄" code="age" width="80" type='hidden'/>
		<field name="专业" code="specialty" width="80" type='hidden'/>
		<field name="家庭住址" code="residence" width="80" type='hidden'/>
    </query-scheme>
    <query-scheme name="staffPosSelect" desc="员工岗位选择">
		<sql>
        select a.org_name,
         a.center_name,
         a.dept_name,
         a.position_name,
         a.position_id,
         a.person_id,
         a.person_member_id,
         b.pos_level,
         b.archives_id,
         b.staffing_posts_rank,
         pkg_hr.f_get_responsibilitiy_names(b.archives_id) as responsibilitiy_name,
         pkg_hr.f_get_Posts_Rank_Sequence(b.archives_id) as staffing_Posts_Rank_Sequence
    from sa_oporg a, hr_archives b
   where a.person_id = b.person_id
     and a.status = 1
     and a.org_kind_id = 'psm'
		</sql>
		<field name="personId" code="personId" type="hidden"/>
		<field name="positionId" code="positionId" type="hidden"/>
		<field name="personMemberId" code="personMemberId" type="hidden"/>
		<field name="staffingPostsRank" code="staffingPostsRank" type="hidden"/>
		<field name="responsibilitiyName" code="responsibilitiyName" type="hidden"/>
		<field name="staffingPostsRankSequence" code="staffingPostsRankSequence" type="hidden"/>
		<field name="posLevel" code="posLevel" type='hidden'/>
		<field name="岗位" code="positionName"  width="120"/>
		<field name="单位" code="orgName"  width="180"/>
		<field name="中心" code="centerName"  width="140"/>
		<field name="部门" code="deptName"  width="100"/>
    </query-scheme> 
    
    <query-scheme name="competitionPositionSelect" desc="竞聘岗位选择">
		<sql>
       select a.compete_position_id,
		       a.chosen_pos_name,
		       a.chosen_pos_id,
		       a.chosen_organ_name,
		       a.chosen_organ_id,
		       a.chosen_center_name,
		       a.chosen_center_id,
		       a.chosen_dept_name,
		       a.chosen_dept_id,
		       a.talents_chosen_demand_id,
		       a.pos_level,
		       a.chosen_num
		  from hr_competition_position a
		 where a.status = 1
		</sql>
		<field name="competePositionId" code="competePositionId" type="hidden"/>
		<field name="chosenPosId" code="chosenPosId" type="hidden"/>
		<field name="chosenOrganId" code="chosenOrganId" type="hidden"/>
		<field name="chosenCenterId" code="chosenCenterId" type="hidden"/>
		<field name="chosenDeptId" code="chosenDeptId" type="hidden"/>
		<field name="talentsChosenDemandId" code="talentsChosenDemandId" type="hidden"/>
		<field name="posLevel" code="posLevel" type="hidden"/>
		<field name="竞聘岗位" code="chosenPosName"  width="100"/>
		<field name="竞聘单位" code="chosenOrganName"  width="100"/>
		<field name="竞聘中心" code="chosenCenterName"  width="100"/>
		<field name="竞聘部门" code="chosenDeptName"  width="100"/>
    </query-scheme> 
    
    
    <query-scheme name="performTempletSelect" desc="绩效考核模板选择">
		<sql>
       select a.templet_id,
        a.templet_name,
        a.templet_code,
        a.total,
        a.is_select_templet,
        a.is_edit_templet,
        a.is_count_quarter_grade,
        a.line_max,
        a.line_min,
        a.min_score,
        a.is_quarter_rank
   from hr_perform_assess_templet a
  where a.status = 1
    and a.is_select_templet = 1
     order by a.templet_id desc
		</sql>
		<field name="templetId" code="templetId" type="hidden"/>
		<field name="total" code="total" type="hidden"/>
		<field name="lineMax" code="lineMax" type="hidden"/>
		<field name="lineMin" code="lineMin" type="hidden"/>
		<field name="minScore" code="minScore" type="hidden"/>
		<field name="isSelectTemplet" code="isSelectTemplet" type="hidden"/>
		<field name="isEditTemplet" code="isEditTemplet" type="hidden"/>
		<field name="isCountQuarterGrade" code="isCountQuarterGrade" type="hidden"/>
		<field name="isQuarterRank" code="isQuarterRank" type="hidden"/>
		<field name="模板名称" code="templetName"  width="300"/>
		<field name="模板编码" code="templetCode"  width="100"/>

    </query-scheme> 
    
       <query-scheme name="secondmentDetailSelect" desc="借调人员选择">
		<sql>
       select a.audit_id,
        a.archives_id,
        a.staff_name,
        a.from_organ_id,
        a.from_organ_name,
        a.to_organ_id,
        a.to_organ_name,
        a.from_dept_id,
        a.from_dept_name,
        a.to_dept_id,
        a.to_dept_name,
        a.from_center_id,
        a.from_center_name,
        a.to_center_id,
        a.to_center_name,
        a.begin_date,
       a.end_date,
        a.status,
        a.organ_id,
        a.organ_name,
        a.fillin_date,
        a.bill_code,
        a.person_member_id,
        a.person_member_name,
        a.full_id,
        a.dept_id,
        a.dept_name,
        a.position_id,
        a.position_name,
        a.reason,
        a.from_pay_organ_name,
        a.from_pay_organ_id,
        a.to_pay_organ_name,
        a.to_pay_organ_id,
        a.from_pos_id,
        a.from_pos_name,
        a.offsite_allowance_needed,
        a.to_pos_id,
        a.to_pos_name,
        a.from_pos_level,
        a.to_pos_level,
        a.from_pos_desc,
        a.to_pos_desc,
        a.from_person_member_id,
        a.from_wage_org_id,
        a.from_wage_org_name,
        a.to_wage_org_id,
        a.to_wage_org_name
   from hr_secondment a
  where a.status = 3
    and not exists (select 0
           from hr_secondment_end_apply t
          where t.audit_id = a.audit_id
            and t.status not in (2, 5))
		</sql>
		<field name="auditId" code="auditId" type="hidden"/>
		<field name="archivesId" code="archivesId" type="hidden"/>
		<field name="toCenterName" code="toCenterName" type="hidden"/>
		<field name="toDeptName" code="toDeptName" type="hidden"/>
		<field name="toPosName" code="toPosName" type="hidden"/>
		<field name="toPosLevel" code="toPosLevel" type="hidden"/>
		<field name="fromOrganName" code="fromOrganName" type="hidden"/>
		<field name="fromCenterName" code="fromCenterName" type="hidden"/>
		<field name="fromDeptName" code="fromDeptName" type="hidden"/>
		<field name="fromPosName" code="fromPosName" type="hidden"/>
		<field name="beginDate" code="beginDate" type="hidden"/>
		<field name="fromPosLevel" code="fromPosLevel" type="hidden"/>
		<field name="fromOrganId" code="fromOrganId" type="hidden"/>
		<field name="fromCenterId" code="fromCenterId" type="hidden"/>
		<field name="fromDeptId" code="fromDeptId" type="hidden"/>
		<field name="fromPosId" code="fromPosId" type="hidden"/>
		<field name="toOrganId" code="toOrganId" type="hidden"/>
		<field name="toCenterId" code="toCenterId" type="hidden"/>
		<field name="toDeptId" code="toDeptId" type="hidden"/>
		<field name="toPosId" code="toPosId" type="hidden"/>


		<field name="借调人员" code="staffName"  width="100"/>
		<field name="借入单位" code="toOrganName"  width="200"/>
		<field name="结束时间" code="endDate"  width="100"/>

    </query-scheme> 
    
    <query-scheme name="trainTeacherSelect" desc="培训讲师选择">
		<sql>
      select t.training_teacher_id,
       t.archives_id,
       t.staff_name,
       t.t_level,
       t.status,
       t.teacher_type,
       t.ogn_name,
       pkg_hr.f_get_training_teacher_num(t.training_teacher_id) as num,
       pkg_hr.f_get_teacher_avg_score(t.training_teacher_id) as avg_score
      from hr_training_teacher_archive t
      where   t.status = 1
		</sql>
		<field name="trainingTeacherId" code="trainingTeacherId" type="hidden"/>
		<field name="archivesId" code="archivesId" type="hidden"/>
		<field name="teacherType" code="teacherType" type="hidden"/>
		<field name="姓名" code="staffName"  width="100"/>
		<field name="机构" code="ognName"  width="150"/>
		<field name="上课次数" code="num"  width="50"/>
		<field name="平均分" code="avgScore"  width="50"/>
    </query-scheme> 
     <query-scheme name="trainCourseSelect" desc="培训课程选择"  folderKindId="31" folderIdName="parent_id">
		<sql>
	    select a.training_course_id,
	        a.training_teacher_name as develop_person_name,
	        a.name,
	        a.system_type,
	        a.course_center_name,
	        a.course_organ_name,
	        a.parent_id,
	        pkg_hr.f_get_training_course_num(a.training_course_id) as num,
	        pkg_hr.f_get_training_course_score(a.training_course_id) as avg_score
	   from hr_training_course a
	  where a.status = 'APPROVAL'
		</sql>
		<field name="trainingCourseId" code="trainingCourseId" type="hidden"/>
		<field name="developPersonId" code="developPersonId" type="hidden"/>
		<field name="developPersonName" code="developPersonName" type="hidden"/>
		<field name="课程名称" code="name"  width="100"/>
		<field name="课程开发者" code="developPersonName"  width="100"/>
		<field name="单位" code="courseOrganName"  width="100"/>
		<field name="中心" code="courseCenterName"  width="100"/>
		<field name="使用次数" code="num"  width="60"/>
		<field name="平均得分" code="avgScore"  width="80"/>
    </query-scheme> 
    <query-scheme name="evalTypeIndex" desc="培训收获指标选择" >
		<sql>
      select a.id, a.content, a.type
        from hr_score_detail a
        where a.type = 6
         order by a.sequence
		</sql>
		<field name="id" code="id" type="hidden"/>
		<field name="培训收获" code="content"  width="700"/>
    </query-scheme> 
    
 	<query-scheme name="staffSelectTrainingCourse" desc="员工关联的培训课程选择" >
		<sql>
      	select s.staff_name,
		       s.archives_id,
		       s.person_id,
		       e.training_class_course_id,
		       e.course_start_time,
		       e.course_end_time,
		       e.course_place,
		       g.name
		  from hr_training_student_archive a,
		       hr_archives                 s,
		       hr_training_class_student   t,
		       hr_training_class_course    e,
		       hr_training_course          g
		 where a.training_student_id = t.training_student_id
		   and t.training_special_class_id = e.training_special_class_id
		   and e.training_course_id = g.training_course_id
		   and e.status =1
		   and a.archives_id = s.archives_id
		   and exists
           (select 0
          from hr_training_student_sign n
         where n.training_class_course_id = e.training_class_course_id)
		   and not exists
           (select 0
            from hr_training_special_class gs
           where gs.training_special_class_id = e.training_special_class_id
             and gs.class_status  in (3, -1))
		</sql>
		<field name="trainingClassCourseId" code="trainingClassCourseId" type="hidden"/>
		<field name="课程" code="name"  width="180"/>
		<field name="开始时间" code="courseStartTime"  width="120"/>
		<field name="结束时间" code="courseEndTime"  width="120"/>
		<field name="地点" code="coursePlace"  width="100"/>
    </query-scheme> 
    
   <query-scheme name="examinationType" desc="考试类别选择" >
		<sql>
      select t.examination_type_id,
		       t.code,
		       t.name,
		       t.timeout,
		       t.passing_score,
		       t.retake_num
		  from hr_examination_type t
		 where t.status = 1
		 order by t.sequence asc
		</sql>
		<field name="examinationTypeId" code="examinationTypeId" type="hidden"/>
		<field name="timeout" code="timeout" type="hidden"/>
		<field name="passingScore" code="passingScore" type="hidden"/>
		<field name="retakeNum" code="retakeNum" type="hidden"/>
		<field name="编码" code="code" width="80"/>
		<field name="名称" code="name"  width="120"/>
    </query-scheme>
    <query-scheme name="overtimeInfo" desc="可冲销加班单">
		<sql>
        select o.start_date,
               o.end_date,
               o.work_content,
               o.overtime_kind_id,
               decode(o.overtime_kind_id,
                      'Normal',
                      '一般加班',
                      'DoubleRest',
                      '双休日加班',
                      'Holiday',
                      '节假日加班',
                      'DriverNight',
                      '驾驶员(晚上)',
                      'DriverNightBus',
                      '驾驶员(夜班车)',
                      'DelayOvertime',
                      '延时加班',
                      'CanteenStaff',
                      '食堂员工加班',
                      'PorterOvertime',
                      '搬运工加班',
                      '其它') as overtime_kind,
               o.total_time_hour,
               o.bill_code,
               (nvl(o.verification_total_time_hour, o.total_time_hour) -
               (select nvl(sum(d.use_Hour), 0)
                   from hr_att_swap_rest_detail d, hr_att_leave l
                  where d.overtime_id = o.overtime_id
                    and d.leave_id = l.leave_id
                    and d.swap_kind_id = 1
                    and l.status != 7)) balance,
               o.overtime_id
          from hr_att_overtime o
         where o.person_member_id in
               (select org.person_member_id
                  from sa_oporg org, sa_oporg o
                 where o.person_id = org.person_id
                   and o.person_member_id = :personMemberId)
           and o.purpose_id = 1
           and o.status = 5
           and nvl(o.verification_total_time_hour, o.total_time_hour) >
               (select nvl(sum(d.use_hour), 0)
                  from hr_att_swap_rest_detail d, hr_att_leave l
                 where d.overtime_id = o.overtime_id
                   and d.swap_kind_id != 2
                   and d.leave_id = l.leave_id
                   and l.status != 7)
           and o.start_date >= add_months(trunc(sysdate, 'mm'), -2)
         order by nvl(o.verification_start_date, o.start_date) asc
		</sql>
		<field name="overtimeId" code="overtimeId" type='hidden'/>
		<field name="overtimeKindId" code="overtimeKindId" type='hidden'/>
		<field name="加班单号" code="billCode" width="120"/>
		<field name="加班类型" code="overtimeKind" width="120"/>
		<field name="加班内容" code="workContent" width="120"/>
		<field name="开始时间" code="startDate" width="100" type="date"/>
		<field name="结束时间" code="endDate"  width="100" type="date"/>
		<field name="加班合计(小时)" code="totalTimeHour"  width="90"/>
		<field name="可用小时" code="balance"  width="80"/>
    </query-scheme> 
    
    <query-scheme name="examStartQuery" desc="考试可用考试查询" >
		<sql>
     	 select t.exam_start_id, t.bill_code, t.subject, t.person_member_name,t.full_id
		  from hr_exam_start t
		 where t.status in (1, 3)
		</sql>
		<field name="examStartId" code="examStartId" type="hidden"/>
		<field name="单据编号" code="billCode" width="120"/>
		<field name="主题" code="subject"  width="280"/>
		<field name="创建人" code="personMemberName"  width="100"/>
		<orderby>exam_start_id desc</orderby>
    </query-scheme>
    <query-scheme name="activityHolidayInfo" desc="可冲销活动假单">
		<sql>
		select h.bill_code,
               d.person_name,
               h.remark,
               d.person_id,
               d.holiday_hour,
               (d.holiday_hour -
               (select nvl(sum(rd.use_Hour), 0)
                   from hr_att_swap_rest_detail rd, hr_att_leave l
                  where rd.overtime_id = d.activity_holiday_detail_id
                    and rd.swap_kind_id = 2
                    and rd.leave_id = l.leave_id
                    and l.status != 7)) balance,
               d.activity_holiday_detail_id
          from hr_att_activity_holiday h
          left join hr_att_activity_holiday_detail d
            on h.activity_holiday_id = d.activity_holiday_id
         where h.status = 5
            and d.holiday_hour> 
		    	   (select nvl(sum(rd.use_hour),0) from hr_att_swap_rest_detail rd,hr_att_leave l  
		    	   		where rd.overtime_id=d.activity_holiday_detail_id and rd.swap_kind_id=2 and rd.leave_id=l.leave_id and l.status!=7)
           and d.person_id = :personId
         order by h.fillin_date desc
		</sql>
		<field name="activityHolidayDetailId" code="activityHolidayDetailId" type='hidden'/>
		<field name="活动假单号" code="billCode" width="120"/>
		<field name="备注" code="remark" width="120"/>
		<field name="活动假(小时)" code="holidayHour"  width="90"/>
		<field name="可用小时" code="balance"  width="80"/>
    </query-scheme> 
    
    <query-scheme name="overtimeInfoByYear" desc="可冲销加班单">
		<sql>
		select o.full_id,
               o.start_date,
               o.end_date,
               o.work_content,
               o.overtime_kind_id,
               decode(o.overtime_kind_id,
                      'Normal',
                      '一般加班',
                      'DoubleRest',
                      '双休日加班',
                      'Holiday',
                      '节假日加班',
                      'DriverNight',
                      '驾驶员(晚上)',
                      'DriverNightBus',
                      '驾驶员(夜班车)',
                      'DelayOvertime',
                      '延时加班',
                      'CanteenStaff',
                      '食堂员工加班',
                      'PorterOvertime',
                      '搬运工加班',
                      '其它') as overtime_kind, o.total_time_hour,
               o.bill_code,
               (nvl(o.verification_total_time_hour, o.total_time_hour) -
               (select nvl(sum(d.use_Hour), 0)
                   from hr_att_swap_rest_detail d, hr_att_leave l
                  where d.overtime_id = o.overtime_id
                    and d.leave_id = l.leave_id
                    and d.swap_kind_id = 1
                    and l.status != 7)) balance,
               o.overtime_id,
               o.dept_name,
               o.person_member_name
          from hr_att_overtime o
         where o.person_member_id in
               (select org.person_member_id
                  from sa_oporg org, sa_oporg o
                 where o.person_id = org.person_id
                   and o.person_member_id = :personMemberId)
           and o.purpose_id = 1
           and o.status = 5
           and nvl(o.verification_total_time_hour, o.total_time_hour) >
               (select nvl(sum(d.use_hour), 0)
                  from hr_att_swap_rest_detail d, hr_att_leave l
                 where d.overtime_id = o.overtime_id
                   and d.swap_kind_id != 2
                   and d.leave_id = l.leave_id
                   and l.status != 7)
           and extract( year from o.start_date) = :year 
         order by nvl(o.verification_start_date, o.start_date) asc
		</sql>
		<field name="overtimeId" code="overtimeId" type='hidden'/>
		<field name="overtimeKindId" code="overtimeKindId" type='hidden'/>
		<field name="加班单号" code="billCode" width="120"/>
		<field name="部门" code="deptName" width="120"/>
		<field name="人员" code="personMemberName" width="120"/>
		<field name="加班类型" code="overtimeKind" width="120"/>
		<field name="加班合计(小时)" code="totalTimeHour"  width="90"/>
		<field name="可用小时" code="balance"  width="80"/>
		<field name="开始时间" code="startDate" width="100" type="date"/>
		<field name="结束时间" code="endDate"  width="100" type="date"/>
		<field name="加班内容" code="workContent" width="120"/>
    </query-scheme> 
   <query-scheme name="wageKindChoose" desc="工资类别选择">
		<sql>
                select d.dict_id,
                       dd.detail_id,
                       d.name as parent_name,
                       dd.name,
                       dd.value,
                       dd.sequence
                  from sys_dictionary d, sys_dictionary_detail dd
                 where d.code = 'wageKind'
                   and d.status = 1
                   and d.dict_id = dd.dict_id
                   and dd.status = 1
                 order by dd.sequence asc
		</sql>
		<field name="detailId" code="detailId" type="hidden"/>
		<field name="工资类别" code="name"  width="150"/>
		<field name="值" code="value"  width="50"/>
    </query-scheme>
   <query-scheme name="wageKindChooseByOrganId" desc="通过机构ID工资类别选择">
		<sql>
                select d.name, d.value 
                  from hr_org_wage_kind w, sys_dictionary_detail d 
                 where w.wage_kind_id = d.detail_id 
                   and d.status = 1 
                   and w.organ_id =:organId 
                 order by d.sequence asc 
		</sql>
		<field name="value" code="value" type="hidden"/>
		<field name="工资类别" code="name"  width="150"/>
    </query-scheme>
   <query-scheme name="chooseMainPersontaxrate" desc="个税类别选择">
		<sql>
              select p.main_id, p.name, p.code, p.start_tax from hr_main_persontaxrate p 
		</sql>
		<field name="mainId" code="mainId" type="hidden"/>
		<field name="工资类别" code="name"  width="100"/>
		<field name="起征额" code="startTax"  width="100"/>
    </query-scheme>
     <query-scheme name="chooseSalaryItem" desc="工资条目选择">
		<sql>
             select id,name,display,column_name,sequence from v_hr_pay_item_choose where 1=1
		</sql>
		<orderby>sequence asc</orderby>
		<field name="id" code="id" type="hidden"/>
		<field name="columnName" code="columnName" type="hidden"/>
		<field name="工资栏目代码" code="name"  width="100"/>
		<field name="工资栏目名称" code="display"  width="200"/>
   </query-scheme>
   
    <query-scheme name="chooseFeePeriod" desc="选择费用期间">
		<sql>
            select m.pay_to_bm_main_id,
             m.setbook_id,
             m.fillin_date,
             m.org_full_id,
             p.name,
             p.period_begin_date,
             p.period_end_date
        from hr_pay_to_bm_main m, bm_xaxis x, bm_period p
       where x.entity_define_id = m.setbook_id
         and m.fillin_date between p.period_begin_date and
             p.period_end_date
         and p.has_child = 0
         and x.entity_define_id = m.setbook_id
         and x.xaxis_id like '%A' || p.period_id
		</sql>
		<orderby>fillin_date desc</orderby>
		<field name="payToBmMain" code="payToBmMain" type="hidden"/>
		<field name="setbookId" code="setbookId" type="hidden"/>
		<field name="当前时间" code="fillinDate"  width="120" type="date"/>
		<field name="开始期间" code="periodBeginDate"  width="120" type="date"/>
		<field name="结束期间" code="periodEndDate"  width="120" type="date"/>
   </query-scheme>
</easy-search-mapping>